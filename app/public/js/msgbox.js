
if(typeof(QZFL.widget.msgbox)=='undefined'){QZFL.widget.msgbox={};}
QZFL.widget.msgbox._timer=null;QZFL.widget.msgbox.loadingAnimationPath=QZFL.widget.msgbox.loadingAnimationPath||("image/loading.gif");QZFL.widget.msgbox.show=function(msgHtml,type,timeout,opts){if(typeof(opts)=='number'){opts={topPosition:opts};}
opts=opts||{};var _s=QZFL.widget.msgbox,template='<span class="qz_msgbox_layer" style="display:none;z-index:10000;" id="mode_tips_v2"><span class="gtl_ico_{type}"></span>{loadIcon}{msgHtml}<span class="gtl_end"></span></span>',loading='<img src="'+(opts.customIcon||_s.loadingAnimationPath)+'" alt="" />',typeClass=[0,0,0,0,"succ","fail","clear"],mBox,tips;_s._loadCss&&_s._loadCss(opts.cssPath);mBox=QZFL.dom.get("q_Msgbox")||QZFL.dom.createElementIn("div",document.body,false,{className:"qz_msgbox_layer_wrap"});mBox.id="q_Msgbox";mBox.style.display="";mBox.innerHTML=QZFL.string.format(template,{type:typeClass[type]||"hits",msgHtml:msgHtml||"",loadIcon:type==6?loading:""});_s._setPosition(mBox,timeout,opts.topPosition);};QZFL.widget.msgbox._setPosition=function(tips,timeout,topPosition){timeout=timeout||5000;var _s=QZFL.widget.msgbox,bt=QZFL.dom.getScrollTop(),ch=QZFL.dom.getClientHeight(),t=Math.floor(ch/2)-40;QZFL.dom.setStyle(tips,"top",((document.compatMode=="BackCompat"||QZFL.userAgent.ie<7)?bt:0)+((typeof(topPosition)=="number")?topPosition:t)+"px");clearTimeout(_s._timer);tips.firstChild.style.display="";timeout&&(_s._timer=setTimeout(_s.hide,timeout));};QZFL.widget.msgbox.hide=function(timeout){var _s=QZFL.widget.msgbox;if(timeout){clearTimeout(_s._timer);_s._timer=setTimeout(_s._hide,timeout);}else{_s._hide();}};QZFL.widget.msgbox._hide=function(){var _mBox=QZFL.dom.get("q_Msgbox"),_s=QZFL.widget.msgbox;clearTimeout(_s._timer);if(_mBox){var _tips=_mBox.firstChild;QZFL.dom.setStyle(_mBox,"display","none");}};